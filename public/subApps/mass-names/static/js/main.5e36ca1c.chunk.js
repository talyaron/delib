(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{12:function(e,a,t){},17:function(e,a,t){},21:function(e,a,t){e.exports=t(36)},26:function(e,a,t){},27:function(e,a,t){},28:function(e,a,t){},34:function(e,a,t){},35:function(e,a,t){},36:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),o=t(18),r=t.n(o),l=(t(26),t(6)),s=(t(27),t(8)),i=t(4);window.firebase.initializeApp({apiKey:"AIzaSyD82XZxw9S90yrFl0PB5ibxy9MZv1GncH4",authDomain:"mass-names.firebaseapp.com",databaseURL:"https://mass-names.firebaseio.com",projectId:"mass-names",storageBucket:"mass-names.appspot.com",messagingSenderId:"990355098057",appId:"1:990355098057:web:af50ce9fd2aaf0d2e10018",measurementId:"G-GW6NL7QXD5"});var m=window.firebase.firestore();t(28);var u=function(e){var a=Object(i.f)().pathname;return console.log(a),c.a.createElement("nav",null,c.a.createElement("a",{href:"http://delib.org/he",className:"navButton",target:"_blank",rel:"noopener noreferrer"},"Delib.org"),c.a.createElement(s.b,{to:"/add"},c.a.createElement("div",{className:"/add"===a||"/"===a?"navButton navButtonSelected":"navButton"},c.a.createElement("i",{className:"material-icons"},"add_circle"),c.a.createElement("div",{className:"navText"},"\u05d4\u05d5\u05e1\u05e4\u05ea \u05e9\u05de\u05d5\u05ea"))),c.a.createElement(s.b,{to:"/vote"},c.a.createElement("div",{className:"/vote"===a?"navButton navButtonSelected":"navButton"},c.a.createElement("i",{className:"material-icons"},"check_circle"),c.a.createElement("div",{className:"navText"},"\u05d1\u05d7\u05d9\u05e8\u05ea \u05e9\u05de\u05d5\u05ea"))),c.a.createElement(s.b,{to:"/results"},c.a.createElement("div",{className:"/results"===a?"navButton navButtonSelected":"navButton"},c.a.createElement("i",{className:"material-icons"},"donut_small"),c.a.createElement("div",{className:"navText"},"\u05ea\u05d5\u05e6\u05d0\u05d5\u05ea"))))},d=t(10);t(34);function v(e){var a=e.replace(/\u05d5/g,"");return a=(a=(a=(a=a.replace(/\u05d4/g,"")).replace(/\u05d9/g,"")).replace(/\u05d0/g,"")).replace(/ /g,"")}var f=0,p=new Set,E=m.collection("groups").doc("0nWDzSq0oFoqBXTQJJ6w").collection("questions").doc("AhNnQ5GMhN3xMCFYwQp9").collection("subQuestions").doc("79awrIGoQqrJVmo7p0LO");var N=function(e){var a=Object(n.useState)([]),t=Object(l.a)(a,2),o=t[0],r=t[1];return Object(n.useEffect)((function(){E.collection("options").orderBy("time","desc").limit(1).onSnapshot((function(e){e.forEach((function(e){f=e.data().number||0}))}),(function(e){console.log(e)}))}),[]),c.a.createElement("div",{className:"page"},c.a.createElement("div",{className:"addMessage"},"\u05d0\u05e0\u05d0 \u05d4\u05d5\u05e1\u05d9\u05e4\u05d5 \u05e9\u05de\u05d5\u05ea \u05d7\u05d3\u05e9\u05d9\u05dd \u05dc\u05e9\u05db\u05d5\u05e0\u05d5\u05ea \u05d4\u05e7\u05e8\u05d5\u05d5\u05d0\u05e0\u05d9\u05dd"),c.a.createElement("div",{className:"bottomBox"},c.a.createElement("div",{className:"foundNames"},o.length>0?c.a.createElement("div",null,"\u05e9\u05de\u05d5\u05ea \u05d3\u05d5\u05de\u05d9\u05dd"):c.a.createElement("div",null),o.map((function(e,a){return c.a.createElement("div",{className:"foundName",key:a},e)}))),c.a.createElement("form",{autoComplete:"off",onSubmit:function(a){a.preventDefault();var t=a.target.elements.newname.value,n=v(t);if(!e.userName){var c=prompt("\u05d0\u05e0\u05d0 \u05e6\u05d9\u05d9\u05e0\u05d5 \u05d0\u05ea \u05e9\u05de\u05db\u05dd  \u05db\u05d3\u05d9 \u05e0\u05d9\u05d3\u05e2 \u05de\u05d9 \u05d4\u05e6\u05d9\u05e2");e.setUserName(c)}o.includes(t)?console.log("all ready here!!!!!!!"):(a.target.elements.newname.value="",console.log(t,n),E.collection("options").add({userName:c||e.userName,name:t,searchString:n,time:(new Date).getTime(),number:f+1}).then((function(e){E.collection("maxNumber").doc("maxNumber").set({maxNumber:f}),alert("\u05d4\u05e9\u05dd \u05e9\u05e8\u05e9\u05de\u05ea\u05dd \u05d4\u05d5\u05e1\u05e3 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4, \u05d5\u05de\u05d7\u05db\u05d4 \u05dc\u05d3\u05e8\u05d5\u05d2 \u05e2\u05dc \u05d9\u05d3\u05d9 \u05ea\u05d5\u05e9\u05d1\u05d9\u05dd \u05d0\u05d7\u05e8\u05d9\u05dd")})))}},c.a.createElement("input",{type:"text",name:"newname",required:!0,placeholder:"\u05d4\u05d5\u05e1\u05d9\u05e4\u05d5 \u05e9\u05dd \u05d7\u05d3\u05e9",onKeyUp:function(e){var a=e.target.value;if(a.length>2){var t=v(a),n=function(e){var a=e.slice(-1);t=a,a=String.fromCharCode(t.charCodeAt(0)+1);var t;var n=e.slice(0,-1)+a;return{start:e,end:n}}(t);console.dir(n),E.collection("options").where("searchString","==",t).where("searchString",">=",n.start).where("searchString","<=",n.end).limit(6).get().then((function(e){e.forEach((function(e){console.log(e.data()),p.add(e.data().name);var a=Object(d.a)(p);console.dir(a),r(a.slice(-5))}))}))}}}),c.a.createElement("input",{type:"submit",value:"\u05d4\u05d5\u05e1\u05e4\u05d4"}))))};t(12);var h=function(e){return c.a.createElement("div",{className:e.name.isNew?"new nameSelect":"nameSelect",onClick:function(a){0===e.seriesIndex&&function(a,t){e.names[e.seriesIndex][t].selected=!0;var n=e.names;e.names[e.seriesIndex].map((function(a,t){return e.names[e.seriesIndex][t].isNew=!1}));var c=[];n[e.seriesIndex].map((function(e,a){return a!==t&&c.push(e),!0}));var o={selected:[n[e.seriesIndex][t]],unselected:c};e.setNames(n),m.collection("groups").doc("0nWDzSq0oFoqBXTQJJ6w").collection("questions").doc("AhNnQ5GMhN3xMCFYwQp9").collection("subQuestions").doc("79awrIGoQqrJVmo7p0LO").collection("selections").add(o).then((function(a){console.log("update to db",a.id),e.getRandomNames()}))}(e.name.id,e.number)}},c.a.createElement("div",null,e.name.name),c.a.createElement("div",null,e.name.selected?c.a.createElement("i",{className:"material-icons"},"check_circle"):c.a.createElement("div",null)))};var g=function(e){return c.a.createElement("div",{className:e.series[0].isNew?"namesSelectSeries newSeries":"namesSelectSeries"},e.series.map((function(a,t){return c.a.createElement(h,{key:t,number:t,seriesIndex:e.seriesIndex,name:a,names:e.names,setNames:e.setNames,couple:e.series,getRandomNames:e.getRandomNames})})))};t(35);var b=function(){return c.a.createElement("div",{className:"lds-ring"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null))};var w=function(e){var a=Object(n.useState)([]),t=Object(l.a)(a,2),o=t[0],r=t[1],s=Object(n.useState)(!1),i=Object(l.a)(s,2),u=i[0],v=i[1],f=Object(n.useState)(!0),p=Object(l.a)(f,2),E=p[0],N=p[1];function h(){v(!0);var a=e.names.length;if(0===a)setTimeout((function(){h(),console.log("waiting",e.x)}),1e3);else{console.log("maxNumber",a);var t=m.collection("groups").doc("0nWDzSq0oFoqBXTQJJ6w").collection("questions").doc("AhNnQ5GMhN3xMCFYwQp9").collection("subQuestions").doc("79awrIGoQqrJVmo7p0LO");console.log("maxNumber",a);for(var n=new Set,c=0;n.size<6&&c<20;)n.add(Math.floor(Math.random()*a)),c++;var l=Object(d.a)(n);console.dir(l);var s=[];l.forEach((function(e){t.collection("options").where("number","==",e).limit(1).get().then((function(e){e.forEach((function(e){var a=e.data();a.id=e.id,a.isNew=!0,s.push(a),6===s.length&&(v(!1),r([s].concat(Object(d.a)(o))),N(!0))}))}))}))}}return Object(n.useEffect)((function(){h(),setInterval((function(){console.log("x",e.x)}),1e3)}),[]),Object(n.useEffect)((function(){console.dir(e.x)})),c.a.createElement("div",{className:"page"},c.a.createElement("div",{className:"questionTitle"},"\u05de\u05ea\u05d5\u05da \u05d4\u05e9\u05de\u05d5\u05ea \u05d4\u05dc\u05dc\u05d5, \u05d0\u05d9\u05d6\u05d4 \u05e9\u05dd \u05ea\u05e2\u05d3\u05d9\u05e4\u05d5?"),c.a.createElement("div",{className:""},u?c.a.createElement(b,null):c.a.createElement("div",null),o.map((function(e,a){return c.a.createElement("div",{className:"namesSelect",key:a},c.a.createElement(g,{series:e,key:a,seriesIndex:a,getRandomNames:h,names:o,setNames:r,isSeriesNew:E,setIsSeriesNew:N}))}))))};t(17);var S=function(e){return c.a.createElement("div",{className:"name"},c.a.createElement("div",null,e.name.name),c.a.createElement("div",null,"\u05e0\u05d9\u05e7\u05d5\u05d3: ",e.name.averageSelections.toFixed(3)),c.a.createElement("div",null,"\u05e2\u05f4\u05d9: ",e.name.userName),c.a.createElement("div",{className:"button delete",onClick:function(){console.log(e.name),m.collection("groups").doc("0nWDzSq0oFoqBXTQJJ6w").collection("questions").doc("AhNnQ5GMhN3xMCFYwQp9").collection("subQuestions").doc("79awrIGoQqrJVmo7p0LO").collection("options").doc(e.name.id).delete()}},"\u05de\u05d7\u05d9\u05e7\u05d4"))};var x=function(e){return c.a.createElement("div",{className:"resultsWrapper"},e.names.map((function(e,a){return c.a.createElement(S,{name:e,key:a})})))},Q=0;var O=function(e){var a=Object(n.useState)(!1),t=Object(l.a)(a,2),o=t[0],r=t[1],d=Object(n.useState)([]),v=Object(l.a)(d,2),f=v[0],p=v[1];return Object(n.useEffect)((function(){return m.collection("groups").doc("0nWDzSq0oFoqBXTQJJ6w").collection("questions").doc("AhNnQ5GMhN3xMCFYwQp9").collection("subQuestions").doc("79awrIGoQqrJVmo7p0LO").collection("options").orderBy("averageSelections","desc").onSnapshot((function(e){var a=[];e.forEach((function(e){var t=e.data();t.id=e.id,a.push(t)})),p(a),Q=a.length,console.log(a,Q)}))}),[]),c.a.createElement(s.a,null,c.a.createElement("div",{className:"app"},c.a.createElement(u,null),c.a.createElement(i.c,null,c.a.createElement(i.a,{exact:!0,path:"/"},c.a.createElement(N,{setUserName:r,userName:o})),c.a.createElement(i.a,{path:"/add"},c.a.createElement(N,{setUserName:r,userName:o})),c.a.createElement(i.a,{path:"/vote"},c.a.createElement(w,{names:f,x:Q})),c.a.createElement(i.a,{path:"/results"},c.a.createElement(x,{names:f})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[21,1,2]]]);
//# sourceMappingURL=main.5e36ca1c.chunk.js.map